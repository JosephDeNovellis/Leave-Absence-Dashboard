<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Leave Dashboard</title>
</head>
<body class="dashboard-body">
    <div class="container">
        <h2 id="welcomeMessage"></h2>
        <p>Welcome to the Leave & Absence Dashboard</p>

        <h3 id="currentWeek"></h3>

        <h3>Existing Leave Requests:</h3>
        <ul id="leaveRequests"></ul>
        <p><a href="index.html">Logout</a></p>

        <div id="weekColumns" class="week-columns"></div>

        <form id="leaveForm" style="display: none; position: absolute;">
            <label for="leaveDate">Selected day:</label>
            <span id="selectedDay"></span> <!-- Display the selected day -->
            <input type="hidden" id="leaveDate" name="leaveDate" required>

            <!-- Display the input box dynamically -->
            <div id="leaveTypeInputContainer" style="display: none;">
                <label for="leaveType">Leave Type:</label>
                <input type="text" id="leaveType" name="leaveType" required>
            </div>

            <button type="button" onclick="submitLeaveRequest()">Submit Leave Request</button>
            <button type="button" onclick="cancelLeaveRequest()">Cancel</button>
        </form>

    </div>

    <script src="script.js"></script>

    <script>
        // Event listener for date box clickssss
        const weekColumns = document.getElementById('weekColumns');
        weekColumns.addEventListener('click', function(event) {
            const dateBox = event.target;
            const leaveForm = document.getElementById('leaveForm');

            if (dateBox.tagName === 'SPAN') {
                const selectedDayElement = document.getElementById('selectedDay');
                const leaveDateInput = document.getElementById('leaveDate');
                const leaveTypeInputContainer = document.getElementById('leaveTypeInputContainer');

                // Display the selected day and set the leave date input
                selectedDayElement.textContent = dateBox.textContent;
                leaveDateInput.value = dateBox.dataset.date;

                // Display the input box dynamically
                leaveTypeInputContainer.style.display = 'block';

                // Set the position of the leave form relative to the weekColumns container
                const rect = weekColumns.getBoundingClientRect();
                const offsetX = event.clientX - rect.left;
                const offsetY = event.clientY - rect.top;

                leaveForm.style.left = offsetX + 'px';
                leaveForm.style.top = offsetY + 'px';

                // Show the leave form
                leaveForm.style.display = 'block';
            }
        });

        // Event listener for cancel button
        function cancelLeaveRequest() {
            // Hide the leave form
            document.getElementById('leaveForm').style.display = 'none';
        }
    </script>
</body>
</html>

